# üîå –ß—Ç–æ —Ç–∞–∫–æ–µ Farcaster –ü—Ä–æ–≤–∞–π–¥–µ—Ä?

## –ü—Ä–æ—Å—Ç–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ:

**Farcaster –ø—Ä–æ–≤–∞–π–¥–µ—Ä** ‚Äî —ç—Ç–æ **–º–æ—Å—Ç –º–µ–∂–¥—É –≤–∞—à–∏–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º –∏ –∫–æ—à–µ–ª—å–∫–æ–º Farcaster**. –û–Ω –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤–∞—à–µ–º—É –∫–æ–¥—É –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å —Å –±–ª–æ–∫—á–µ–π–Ω–æ–º —á–µ—Ä–µ–∑ –∫–æ—à–µ–ª–µ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤–Ω—É—Ç—Ä–∏ Farcaster.

---

## üîç –ê–Ω–∞–ª–æ–≥–∏—è:

–ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ:
- **–û–±—ã—á–Ω—ã–π –±—Ä–∞—É–∑–µ—Ä** ‚Üí MetaMask –ø—Ä–æ–≤–∞–π–¥–µ—Ä ‚Üí –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å –±–ª–æ–∫—á–µ–π–Ω–æ–º
- **Farcaster –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ** ‚Üí Farcaster –ø—Ä–æ–≤–∞–π–¥–µ—Ä ‚Üí –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å –±–ª–æ–∫—á–µ–π–Ω–æ–º

Farcaster –ø—Ä–æ–≤–∞–π–¥–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç **—Ç–∞–∫ –∂–µ**, –∫–∞–∫ MetaMask, –Ω–æ **–≤–Ω—É—Ç—Ä–∏ Farcaster –∫–æ—à–µ–ª—å–∫–∞**.

---

## üìä –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –∫–æ–¥–µ:

### 1. –ü–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞:

```typescript
// –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞
const { getEthereumProvider } = await import('@farcaster/miniapp-sdk/dist/ethereumProvider');

// –ü–æ–ª—É—á–∞–µ–º –ø—Ä–æ–≤–∞–π–¥–µ—Ä –æ—Ç Farcaster –∫–æ—à–µ–ª—å–∫–∞
const miniProvider = await getEthereumProvider();
```

### 2. –°–æ–∑–¥–∞–Ω–∏–µ ethers –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞:

```typescript
// –û–±–æ—Ä–∞—á–∏–≤–∞–µ–º Farcaster –ø—Ä–æ–≤–∞–π–¥–µ—Ä –≤ ethers.js –ø—Ä–æ–≤–∞–π–¥–µ—Ä
const provider = new ethers.BrowserProvider(miniProvider as any);
```

### 3. –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∞–Ω—Ç–∞ (signer):

```typescript
// –ü–æ–ª—É—á–∞–µ–º signer –¥–ª—è –ø–æ–¥–ø–∏—Å–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
const signer = await provider.getSigner();

// –ü–æ–ª—É—á–∞–µ–º –∞–¥—Ä–µ—Å –∫–æ—à–µ–ª—å–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
const userAddress = await signer.getAddress();
```

---

## ‚úÖ –ß—Ç–æ –º–æ–∂–Ω–æ –¥–µ–ª–∞—Ç—å —á–µ—Ä–µ–∑ Farcaster –ø—Ä–æ–≤–∞–π–¥–µ—Ä:

1. **–ß–∏—Ç–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ –±–ª–æ–∫—á–µ–π–Ω–∞:**
   - –ü—Ä–æ–≤–µ—Ä—è—Ç—å –±–∞–ª–∞–Ω—Å —Ç–æ–∫–µ–Ω–æ–≤
   - –ß–∏—Ç–∞—Ç—å –¥–∞–Ω–Ω—ã–µ —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤
   - –ü–æ–ª—É—á–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è—Ö

2. **–û—Ç–ø—Ä–∞–≤–ª—è—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏:**
   - –ü–æ–¥–ø–∏—Å—ã–≤–∞—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ —á–µ—Ä–µ–∑ –∫–æ—à–µ–ª–µ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
   - –í—ã–ø–æ–ª–Ω—è—Ç—å swap —Ç–æ–∫–µ–Ω–æ–≤
   - –í—ã–∑—ã–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤

3. **–£–ø—Ä–∞–≤–ª—è—Ç—å —Å–µ—Ç—è–º–∏:**
   - –ü—Ä–æ–≤–µ—Ä—è—Ç—å —Ç–µ–∫—É—â—É—é —Å–µ—Ç—å (Base, Ethereum –∏ —Ç.–¥.)
   - –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç—å —Å–µ—Ç–∏
   - –î–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ —Å–µ—Ç–∏

---

## üöÄ –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –Ω–∞—à–µ–º –∫–æ–¥–µ:

### –í `lib/farcaster-direct-swap.ts`:

```typescript
// 1. –ü–æ–ª—É—á–∞–µ–º Farcaster –ø—Ä–æ–≤–∞–π–¥–µ—Ä
const { getEthereumProvider } = await import('@farcaster/miniapp-sdk/dist/ethereumProvider');
const miniProvider = await getEthereumProvider();

// 2. –°–æ–∑–¥–∞–µ–º ethers –ø—Ä–æ–≤–∞–π–¥–µ—Ä
const provider = new ethers.BrowserProvider(miniProvider as any);
const signer = await provider.getSigner();

// 3. –ò—Å–ø–æ–ª—å–∑—É–µ–º –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ swap
const router = new ethers.Contract(UNISWAP_V3_ROUTER, UNISWAP_ROUTER_ABI, signer);
const tx = await router.exactInputSingle(swapParams, {
  value: amountIn,
  gasLimit: 500000,
});
```

---

## üîë –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:

### ‚úÖ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:

1. **–í—Å–µ –≤–Ω—É—Ç—Ä–∏ Farcaster** ‚Äî –Ω–µ –Ω—É–∂–Ω–æ –æ—Ç–∫—Ä—ã–≤–∞—Ç—å –≤–Ω–µ—à–Ω–∏–µ —Å–∞–π—Ç—ã
2. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** ‚Äî —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –ø–æ–¥–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –≤ –∫–æ—à–µ–ª—å–∫–µ Farcaster
3. **–£–¥–æ–±—Å—Ç–≤–æ** ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –ø–æ–∫–∏–¥–∞–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
4. **–ï–¥–∏–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å** ‚Äî –≤—Å–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –≤—ã–≥–ª—è–¥—è—Ç –æ–¥–∏–Ω–∞–∫–æ–≤–æ

### ‚ö†Ô∏è –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:

1. **–†–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –≤ Farcaster Mini App** ‚Äî –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –æ–±—ã—á–Ω–æ–º –±—Ä–∞—É–∑–µ—Ä–µ
2. **–¢—Ä–µ–±—É–µ—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–Ω—ã–π –∫–æ—à–µ–ª–µ–∫** ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω
3. **–ó–∞–≤–∏—Å–∏—Ç –æ—Ç Farcaster SDK** ‚Äî –Ω—É–∂–Ω–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ `@farcaster/miniapp-sdk`

---

## üìã –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–æ–¥ –∫–∞–ø–æ—Ç–æ–º:

```
–í–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
    ‚Üì
Farcaster SDK (getEthereumProvider)
    ‚Üì
Farcaster –∫–æ—à–µ–ª–µ–∫ (–≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ)
    ‚Üì
–ë–ª–æ–∫—á–µ–π–Ω (Base, Ethereum –∏ —Ç.–¥.)
```

---

## üéØ –í –Ω–∞—à–µ–º –ø—Ä–æ–µ–∫—Ç–µ:

–ú—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º Farcaster –ø—Ä–æ–≤–∞–π–¥–µ—Ä –¥–ª—è:

1. **–ü—Ä—è–º–æ–≥–æ swap ETH/USDC ‚Üí MCT**
   - –§–æ—Ä–º–∏—Ä—É–µ–º —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é —á–µ—Ä–µ–∑ Uniswap Router
   - –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —á–µ—Ä–µ–∑ Farcaster –ø—Ä–æ–≤–∞–π–¥–µ—Ä
   - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç –≤ –∫–æ—à–µ–ª—å–∫–µ Farcaster

2. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ approve –¥–ª—è USDC**
   - –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ç–µ–∫—É—â–∏–π allowance
   - –û—Ç–ø—Ä–∞–≤–ª—è–µ–º approve —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é —á–µ—Ä–µ–∑ –ø—Ä–æ–≤–∞–π–¥–µ—Ä
   - –ó–∞—Ç–µ–º –≤—ã–ø–æ–ª–Ω—è–µ–º swap

3. **–ü—Ä–æ–≤–µ—Ä–∫–∏ –±–∞–ª–∞–Ω—Å–∞**
   - –ß–∏—Ç–∞–µ–º –±–∞–ª–∞–Ω—Å —Ç–æ–∫–µ–Ω–æ–≤ —á–µ—Ä–µ–∑ –ø—Ä–æ–≤–∞–π–¥–µ—Ä
   - –í–µ—Ä–∏—Ñ–∏—Ü–∏—Ä—É–µ–º —É—Å–ø–µ—à–Ω–æ—Å—Ç—å swap

---

## üí° –ò—Ç–æ–≥–æ:

**Farcaster –ø—Ä–æ–≤–∞–π–¥–µ—Ä** = —Å–ø–æ—Å–æ–± –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –±–ª–æ–∫—á–µ–π–Ω–æ–º —á–µ—Ä–µ–∑ –∫–æ—à–µ–ª–µ–∫ Farcaster, **–±–µ–∑ –≤—ã—Ö–æ–¥–∞ –∏–∑ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è**.

–≠—Ç–æ –∫–∞–∫ MetaMask, –Ω–æ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –≤ Farcaster! üöÄ

