# üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–æ–≥–∏–∫–∏ —Å—Ç—Ä–∏–∫–∞

## –ü—Ä–æ–±–ª–µ–º–∞, –∫–æ—Ç–æ—Ä–∞—è –±—ã–ª–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞:

**–°—Ç–∞—Ä–∞—è –ª–æ–≥–∏–∫–∞ (—Å—Ç—Ä–æ–∫–∞ 68):**
```javascript
const last = new Date(`${lastClaimUTCDate}T00:00:00.000Z`);
const yesterday = new Date(Date.UTC(now.getUTCFullYear(), now.getUTCMonth(), now.getUTCDate() - 1));
const isConsecutive = last.toISOString().slice(0,10) === yesterday.toISOString().slice(0,10);
```

**–ü—Ä–æ–±–ª–µ–º–∞:** –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ Date –æ–±—ä–µ–∫—Ç—ã –∏ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ —á–µ—Ä–µ–∑ `toISOString()` –º–æ–≥–ª–æ –¥–∞–≤–∞—Ç—å –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏–∑-–∑–∞ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–µ–π —Ä–∞–±–æ—Ç—ã —Å –¥–∞—Ç–∞–º–∏.

**–ù–æ–≤–∞—è –ª–æ–≥–∏–∫–∞:**
```javascript
const yesterdayUTC = getYesterdayUTC(now);
const isConsecutive = lastClaimUTCDate === yesterdayUTC;
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ:** –ü—Ä—è–º–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å—Ç—Ä–æ–∫ –≤ —Ñ–æ—Ä–º–∞—Ç–µ `YYYY-MM-DD` - –±–æ–ª–µ–µ –Ω–∞–¥–µ–∂–Ω–æ –∏ –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ.

## –¢–µ—Å—Ç–æ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏:

### ‚úÖ –¢–ï–°–¢ 1: –ü–µ—Ä–≤—ã–π –∫–ª–µ–π–º
- **–í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:**
  - `lastClaimUTCDate = null`
  - `current = 0`
- **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
  - `current = 1` (–Ω–æ–≤—ã–π —Å—Ç—Ä–∏–∫ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è)
  - `longest = 1`

### ‚úÖ –¢–ï–°–¢ 2: –£–∂–µ –∫–ª–µ–π–º–∏–ª–∏ —Å–µ–≥–æ–¥–Ω—è
- **–í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:**
  - `lastClaimUTCDate = "2025-01-15"` (—Å–µ–≥–æ–¥–Ω—è)
  - `todayUTC = "2025-01-15"`
  - `current = 5`
- **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
  - `current = 5` (–æ—Å—Ç–∞–µ—Ç—Å—è –ø—Ä–µ–∂–Ω–∏–º)
  - `longest = 5` (–Ω–µ –º–µ–Ω—è–µ—Ç—Å—è)

### ‚úÖ –¢–ï–°–¢ 3: –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–π –∫–ª–µ–π–º (–∫–ª–µ–π–º–∏–ª–∏ –≤—á–µ—Ä–∞)
- **–í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:**
  - `lastClaimUTCDate = "2025-01-14"` (–≤—á–µ—Ä–∞)
  - `todayUTC = "2025-01-15"` (—Å–µ–≥–æ–¥–Ω—è)
  - `yesterdayUTC = "2025-01-14"`
  - `current = 3`
- **–ü—Ä–æ–≤–µ—Ä–∫–∞:**
  - `isConsecutive = ("2025-01-14" === "2025-01-14") = true`
- **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
  - `current = 4` (—É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è –Ω–∞ 1)
  - `longest = 4` (–æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è)

### ‚úÖ –¢–ï–°–¢ 4: –ü—Ä–æ–ø—É—â–µ–Ω –¥–µ–Ω—å (–∫–ª–µ–π–º–∏–ª–∏ –ø–æ–∑–∞–≤—á–µ—Ä–∞)
- **–í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:**
  - `lastClaimUTCDate = "2025-01-13"` (–ø–æ–∑–∞–≤—á–µ—Ä–∞)
  - `todayUTC = "2025-01-15"` (—Å–µ–≥–æ–¥–Ω—è)
  - `yesterdayUTC = "2025-01-14"`
  - `current = 5`
- **–ü—Ä–æ–≤–µ—Ä–∫–∞:**
  - `isConsecutive = ("2025-01-13" === "2025-01-14") = false`
- **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
  - `current = 1` (—Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è)
  - `longest = 5` (–æ—Å—Ç–∞–µ—Ç—Å—è –ø—Ä–µ–∂–Ω–∏–º, —Ç–∞–∫ –∫–∞–∫ —ç—Ç–æ –±—ã–ª —Ä–µ–∫–æ—Ä–¥)

### ‚úÖ –¢–ï–°–¢ 5: –°–∏–º—É–ª—è—Ü–∏—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –¥–Ω–µ–π

**–î–µ–Ω—å 1 (2025-01-01):**
- `lastClaimUTCDate = null`
- –†–µ–∑—É–ª—å—Ç–∞—Ç: `current = 1`, `longest = 1`

**–î–µ–Ω—å 2 (2025-01-02):**
- `lastClaimUTCDate = "2025-01-01"`
- `yesterdayUTC = "2025-01-01"`
- `isConsecutive = true`
- –†–µ–∑—É–ª—å—Ç–∞—Ç: `current = 2`, `longest = 2`

**–î–µ–Ω—å 3 (2025-01-03):**
- `lastClaimUTCDate = "2025-01-02"`
- `yesterdayUTC = "2025-01-02"`
- `isConsecutive = true`
- –†–µ–∑—É–ª—å—Ç–∞—Ç: `current = 3`, `longest = 3`

**–î–µ–Ω—å 5 (2025-01-05, –ø—Ä–æ–ø—É—â–µ–Ω –¥–µ–Ω—å 4):**
- `lastClaimUTCDate = "2025-01-03"`
- `yesterdayUTC = "2025-01-04"`
- `isConsecutive = ("2025-01-03" === "2025-01-04") = false`
- –†–µ–∑—É–ª—å—Ç–∞—Ç: `current = 1` (—Å–±—Ä–æ—Å), `longest = 3` (—Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è)

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∞ –¥–∞—Ç:

–§—É–Ω–∫—Ü–∏—è `toDateOnlyUTC()` –≤—Å–µ–≥–¥–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç—Ä–æ–∫—É –≤ —Ñ–æ—Ä–º–∞—Ç–µ `YYYY-MM-DD`:
- ‚úÖ `"2025-01-15"` - –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç
- ‚úÖ `"2025-12-31"` - –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç
- ‚úÖ –í—Å–µ–≥–¥–∞ 10 —Å–∏–º–≤–æ–ª–æ–≤: `YYYY-MM-DD`

## –í—ã–≤–æ–¥—ã:

1. ‚úÖ **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ** - —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å—Ç—Ä–æ–∫ –Ω–∞–ø—Ä—è–º—É—é –±–æ–ª–µ–µ –Ω–∞–¥–µ–∂–Ω–æ
2. ‚úÖ **–°—Ç—Ä–∏–∫ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è** –ø—Ä–∏ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö –∫–ª–µ–π–º–∞—Ö
3. ‚úÖ **–°—Ç—Ä–∏–∫ —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è** —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –ø—Ä–æ–ø—É—Å–∫–µ –¥–Ω—è
4. ‚úÖ **–§–æ—Ä–º–∞—Ç –¥–∞—Ç** –≤—Å–µ–≥–¥–∞ –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π –∏ –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–π
5. ‚úÖ **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** –¥–æ–±–∞–≤–ª–µ–Ω–æ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

## –ö–∞–∫ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ —Ä–µ–∞–ª—å–Ω–æ–º API:

1. –°–¥–µ–ª–∞—Ç—å –∫–ª–µ–π–º —Å–µ–≥–æ–¥–Ω—è
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ `current = 1`
3. –ü–æ–¥–æ–∂–¥–∞—Ç—å –¥–æ –∑–∞–≤—Ç—Ä–∞ (–∏–ª–∏ –∏–∑–º–µ–Ω–∏—Ç—å —Å–∏—Å—Ç–µ–º–Ω—É—é –¥–∞—Ç—É)
4. –°–¥–µ–ª–∞—Ç—å –∫–ª–µ–π–º –∑–∞–≤—Ç—Ä–∞
5. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ `current = 2` (—É–≤–µ–ª–∏—á–∏–ª—Å—è)
6. –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å –¥–µ–Ω—å
7. –°–¥–µ–ª–∞—Ç—å –∫–ª–µ–π–º —á–µ—Ä–µ–∑ –¥–µ–Ω—å
8. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ `current = 1` (—Å–±—Ä–æ—Å–∏–ª—Å—è)







