# –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤

## ‚úÖ –°—Ç–∞—Ç—É—Å: –ö–æ–¥ –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ

### –ü—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:

1. **–ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è hash** ‚úÖ
   - –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç hash —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º `0x` –∏ –±–µ–∑ –Ω–µ–≥–æ
   - –°–æ–∑–¥–∞–µ—Ç –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è

2. **–°—Ä–∞–≤–Ω–µ–Ω–∏–µ hash** ‚úÖ
   - –ü—Ä–∞–≤–∏–ª—å–Ω–æ —Å—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç —Ä–∞–∑–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã hash
   - –£—á–∏—Ç—ã–≤–∞–µ—Ç —Ä–µ–≥–∏—Å—Ç—Ä (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç toLowerCase)

3. **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö** ‚úÖ
   - –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∏–∑–≤–ª–µ–∫–∞–µ—Ç replies –∏–∑ —Ä–∞–∑–Ω—ã—Ö –º–µ—Å—Ç –≤ –æ—Ç–≤–µ—Ç–µ API
   - –ü—Ä–∞–≤–∏–ª—å–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç thread replies
   - –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç author FID

4. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ –∫–æ–¥** ‚úÖ
   - `checkUserCommented` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –≤ `checkUserActivityByHash` –¥–ª—è —Ç–∏–ø–∞ "comment"
   - –¢–∞–∫–∂–µ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –≤ `checkUserReactionsByCast` –∫–∞–∫ fallback –º–µ—Ç–æ–¥
   - –í—Å–µ –º–µ—Ç–æ–¥—ã –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã —Å –ø–æ–¥—Ä–æ–±–Ω—ã–º –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º

### –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã –ø—Ä–æ–≤–µ—Ä–∫–∏:

1. **Method 1**: Cast endpoint —Å replies (—Å–∞–º—ã–π –Ω–∞–¥–µ–∂–Ω—ã–π)
   - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç `cast.replies.casts`, `cast.replies`, `cast.direct_replies`
   - –¢–∞–∫–∂–µ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç `cast.thread.casts`

2. **Method 2**: Replies endpoint
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π endpoint `/v2/farcaster/cast/replies`
   - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Ä–∞–∑–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã –æ—Ç–≤–µ—Ç–∞ API

3. **Method 3**: Parent hash –ø–æ–∏—Å–∫
   - –ò—â–µ—Ç –≤—Å–µ –∫–∞—Å—Ç—ã —Å —É–∫–∞–∑–∞–Ω–Ω—ã–º `parent_hash`
   - –ü—Ä–æ–±—É–µ—Ç –≤—Å–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã hash (—Å 0x –∏ –±–µ–∑)

4. **Method 4**: User casts –ø–æ–∏—Å–∫
   - –ü–æ–ª—É—á–∞–µ—Ç –≤—Å–µ –∫–∞—Å—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
   - –ò—â–µ—Ç –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ —Å —Å–æ–≤–ø–∞–¥–∞—é—â–∏–º `parent_hash`
   - –°—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç –≤—Å–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã hash

5. **Method 5**: Feed endpoint (—ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω—ã–π)
   - –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –º–µ—Ç–æ–¥, –º–æ–∂–µ—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞—Ç—å –¥–ª—è –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:

–í—Å–µ –º–µ—Ç–æ–¥—ã –∏–º–µ—é—Ç –ø–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:
- –ù–∞—á–∞–ª–æ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
- –ö–ª—é—á–∏ –æ–±—ä–µ–∫—Ç–æ–≤ –≤ –æ—Ç–≤–µ—Ç–∞—Ö API
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö replies/casts
- –ü—Ä–∏–º–µ—Ä—ã –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
- –£—Å–ø–µ—à–Ω—ã–µ –Ω–∞—Ö–æ–¥–∫–∏ —Å –¥–µ—Ç–∞–ª—è–º–∏
- –û—à–∏–±–∫–∏ API —Å –∫–æ–¥–∞–º–∏ —Å—Ç–∞—Ç—É—Å–∞

### –ö–∞–∫ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏:

1. –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ
2. –í—ã–±–µ—Ä–∏—Ç–µ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å "COMMENT NOW"
3. –û—Ç–∫—Ä–æ–π—Ç–µ –∑–∞–¥–∞–Ω–∏–µ –∏ –æ—Å—Ç–∞–≤—å—Ç–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –≤ Farcaster
4. –í–µ—Ä–Ω–∏—Ç–µ—Å—å –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏ –Ω–∞–∂–º–∏—Ç–µ "VERIFY COMPLETION"
5. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:
   - **–í –±—Ä–∞—É–∑–µ—Ä–µ**: –û—Ç–∫—Ä–æ–π—Ç–µ DevTools (F12) ‚Üí Console
   - **–ù–∞ —Å–µ—Ä–≤–µ—Ä–µ**: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ Vercel Functions

### –û–∂–∏–¥–∞–µ–º—ã–µ –ª–æ–≥–∏ –ø—Ä–∏ —É—Å–ø–µ—à–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–µ:

```
[neynar] checkUserCommented: starting verification { fullHash, normalizedHash, hashWith0x, userFid }
[neynar] checkUserCommented: Method 1 - checking cast with replies
[neynar] checkUserCommented: Method 1 - found replies in cast { repliesCount: X }
[neynar] checkUserCommented: ‚úÖ found reply in cast.replies { replyHash, authorFid, userFid }
[neynar] checkUserCommented: ‚úÖ found via cast.replies
```

### –ï—Å–ª–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –Ω–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è:

–õ–æ–≥–∏ –ø–æ–∫–∞–∂—É—Ç:
- –ö–∞–∫–æ–π –º–µ—Ç–æ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è
- –°–∫–æ–ª—å–∫–æ replies/casts –±—ã–ª–æ –Ω–∞–π–¥–µ–Ω–æ
- –ü–æ—á–µ–º—É –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –Ω–µ –±—ã–ª –Ω–∞–π–¥–µ–Ω (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π FID, hash –Ω–µ —Å–æ–≤–ø–∞–¥–∞–µ—Ç –∏ —Ç.–¥.)

### –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:

1. ‚úÖ –ö–æ–¥ –≥–æ—Ç–æ–≤ –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω –ª–æ–≥–∏—á–µ—Å–∫–∏
2. ‚è≥ –û–∂–∏–¥–∞–µ—Ç—Å—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
3. üìä –ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –Ω–∞ Vercel



