# üöÄ –î–µ–ø–ª–æ–π LikeChat –≤ Vercel —Å Upstash Redis

## üìã –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

### 1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞

‚úÖ **–ü—Ä–æ–µ–∫—Ç —É–∂–µ –≥–æ—Ç–æ–≤!** –í—Å–µ —Ñ–∞–π–ª—ã –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã:
- `@upstash/redis` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
- `lib/upstash-db.ts` —Å–æ–∑–¥–∞–Ω
- `lib/db-config.ts` –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- –í—Å–µ –∏–º–ø–æ—Ä—Ç—ã –æ–±–Ω–æ–≤–ª–µ–Ω—ã

### 2. –°–æ–∑–¥–∞–Ω–∏–µ Upstash –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

1. **–ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ [Upstash Console](https://console.upstash.com/)**
2. **–í–æ–π–¥–∏—Ç–µ –∏–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ –∞–∫–∫–∞—É–Ω—Ç**
3. **–ù–∞–∂–º–∏—Ç–µ "Create Database"**
4. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ:**
   - **Name**: `likechat-redis`
   - **Region**: –≤—ã–±–µ—Ä–∏—Ç–µ –±–ª–∏–∂–∞–π—à–∏–π –∫ –≤–∞—à–µ–º—É —Ä–µ–≥–∏–æ–Ω—É
   - **Type**: Global (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
5. **–ù–∞–∂–º–∏—Ç–µ "Create"**

### 3. –ü–æ–ª—É—á–µ–Ω–∏–µ credentials

–ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –±–∞–∑—ã:

1. **–û—Ç–∫—Ä–æ–π—Ç–µ —Ä–∞–∑–¥–µ–ª "Details"**
2. **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ:**
   - **REST URL** (`UPSTASH_REDIS_REST_URL`)
   - **REST Token** (`UPSTASH_REDIS_REST_TOKEN`)

### 4. –î–µ–ø–ª–æ–π –≤ Vercel

#### –í–∞—Ä–∏–∞–Ω—Ç A: –ß–µ—Ä–µ–∑ Vercel CLI (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Vercel CLI
npm i -g vercel

# –í–æ–π–¥–∏—Ç–µ –≤ –∞–∫–∫–∞—É–Ω—Ç
vercel login

# –î–µ–ø–ª–æ–π
vercel

# –î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
vercel env add UPSTASH_REDIS_REST_URL
vercel env add UPSTASH_REDIS_REST_TOKEN
vercel env add TOKEN_CONTRACT_ADDRESS

# –ü–µ—Ä–µ–¥–µ–ø–ª–æ–π —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏
vercel --prod
```

#### –í–∞—Ä–∏–∞–Ω—Ç B: –ß–µ—Ä–µ–∑ GitHub + Vercel Dashboard

1. **–ó–∞–≥—Ä—É–∑–∏—Ç–µ –∫–æ–¥ –≤ GitHub**
2. **–ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ [Vercel Dashboard](https://vercel.com/dashboard)**
3. **–ù–∞–∂–º–∏—Ç–µ "New Project"**
4. **–ò–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –≤–∞—à GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π**
5. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø—Ä–æ–µ–∫—Ç:**
   - **Framework Preset**: Next.js
   - **Root Directory**: `./` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
   - **Build Command**: `npm run build`
   - **Output Directory**: `.next` (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)

### 5. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Environment Variables

–í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –ø—Ä–æ–µ–∫—Ç–∞ Vercel:

1. **Settings** ‚Üí **Environment Variables**
2. **–î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:**

| Name | Value | Environment |
|------|-------|-------------|
| `UPSTASH_REDIS_REST_URL` | `https://your-database-url.upstash.io` | Production, Preview, Development |
| `UPSTASH_REDIS_REST_TOKEN` | `your-rest-token-here` | Production, Preview, Development |
| `TOKEN_CONTRACT_ADDRESS` | `0x04D388DA70C32FC5876981097c536c51c8d3D236` | Production, Preview, Development |
| `NEXT_PUBLIC_APP_URL` | `https://your-app.vercel.app` | Production, Preview, Development |

### 6. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è:

1. **–û—Ç–∫—Ä–æ–π—Ç–µ –≤–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ**
2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞** - –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:
   ```
   üìä Database: UPSTASH (persistent: true)
   ‚úÖ Using Upstash Redis for persistent storage
   ```

3. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:**
   - –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫–æ—à–µ–ª—å–∫–∞
   - –í—ã–±–æ—Ä –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
   - –ü—É–±–ª–∏–∫–∞—Ü–∏—è —Å—Å—ã–ª–æ–∫
   - –ü–æ–∫—É–ø–∫–∞ —Ç–æ–∫–µ–Ω–æ–≤

### 7. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

**Upstash Console:**
- –ü—Ä–æ—Å–º–æ—Ç—Ä –¥–∞–Ω–Ω—ã—Ö –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞–ø—Ä–æ—Å–æ–≤

**Vercel Dashboard:**
- –õ–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ —Ç—Ä–∞—Ñ–∏–∫–∞

### 8. Troubleshooting

#### –ü—Ä–æ–±–ª–µ–º–∞: "Database: MEMORY" –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ
**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ Vercel

#### –ü—Ä–æ–±–ª–µ–º–∞: "Redis connection failed"
**–†–µ—à–µ–Ω–∏–µ:** 
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å URL –∏ —Ç–æ–∫–µ–Ω–∞
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∞–∫—Ç–∏–≤–Ω–∞ –≤ Upstash

#### –ü—Ä–æ–±–ª–µ–º–∞: Build –æ—à–∏–±–∫–∏
**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –û—á–∏—Å—Ç–∏—Ç–µ –∫—ç—à
rm -rf .next
npm run build
```

### 9. –û–±–Ω–æ–≤–ª–µ–Ω–∏—è

–î–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:

```bash
# –í–Ω–µ—Å–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥
git add .
git commit -m "Update app"
git push origin main

# Vercel –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–¥–µ–ø–ª–æ–∏—Ç
```

### 10. –°—Ç–æ–∏–º–æ—Å—Ç—å

**Vercel:**
- **Hobby Plan**: –ë–µ—Å–ø–ª–∞—Ç–Ω–æ (–¥–æ 100GB bandwidth)
- **Pro Plan**: $20/–º–µ—Å—è—Ü (–±–µ–∑–ª–∏–º–∏—Ç–Ω—ã–π bandwidth)

**Upstash:**
- **Free Tier**: 10,000 –∑–∞–ø—Ä–æ—Å–æ–≤/–¥–µ–Ω—å
- **Pay-as-you-go**: $0.2 –∑–∞ 100,000 –∑–∞–ø—Ä–æ—Å–æ–≤

---

## üéâ –ì–æ—Ç–æ–≤–æ!

–í–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ LikeChat —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ —Å –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–º —Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –¥–∞–Ω–Ω—ã—Ö –≤ Upstash Redis!

### üîó –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏:
- [Vercel Dashboard](https://vercel.com/dashboard)
- [Upstash Console](https://console.upstash.com/)
- [Next.js Deployment Docs](https://nextjs.org/docs/deployment)
