# üîÑ –ü–æ–∫—É–ø–∫–∞ —Ç–æ–∫–µ–Ω–∞ —á–µ—Ä–µ–∑ Farcaster Swap API

## –ß—Ç–æ —ç—Ç–æ?

–ù–æ–≤—ã–π —Å–ø–æ—Å–æ–± –ø–æ–∫—É–ø–∫–∏ —Ç–æ–∫–µ–Ω–∞ MCT —á–µ—Ä–µ–∑ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π swap –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å Farcaster –∫–æ—à–µ–ª—å–∫–∞.

–í–º–µ—Å—Ç–æ –ø—Ä—è–º–æ–≥–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å–æ —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–º, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è DEX (–¥–µ—Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –±–∏—Ä–∂–∞) —á–µ—Ä–µ–∑ Farcaster.

---

## ‚úÖ –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ:

1. **–°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª `lib/farcaster-swap.ts`**
   - –§—É–Ω–∫—Ü–∏—è `buyTokenViaFarcasterSwap()` - –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç swap –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
   - –§—É–Ω–∫—Ü–∏—è `verifySwapCompletion()` - –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –±–∞–ª–∞–Ω—Å –ø–æ—Å–ª–µ swap
   - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ ETH –∏ USDC –∫–∞–∫ –≤—Ö–æ–¥–Ω—ã—Ö —Ç–æ–∫–µ–Ω–æ–≤

2. **–û–±–Ω–æ–≤–ª–µ–Ω `lib/web3.ts`**
   - –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ `NEXT_PUBLIC_USE_FARCASTER_SWAP`
   - –ï—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è swap –≤–º–µ—Å—Ç–æ —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞

---

## üöÄ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:

### –®–∞–≥ 1: –í–∫–ª—é—á–∏—Ç–µ Farcaster Swap

–î–æ–±–∞–≤—å—Ç–µ –≤ `.env.local`:

```env
NEXT_PUBLIC_USE_FARCASTER_SWAP=true
NEXT_PUBLIC_TOKEN_CONTRACT_ADDRESS=0x04d388da70c32fc5876981097c536c51c8d3d236

# –í—ã–±–µ—Ä–∏—Ç–µ —Ç–æ–∫–µ–Ω –¥–ª—è –æ–ø–ª–∞—Ç—ã:
# –î–ª—è ETH (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é):
NEXT_PUBLIC_USE_USDC_FOR_PURCHASE=false

# –î–ª—è USDC:
NEXT_PUBLIC_USE_USDC_FOR_PURCHASE=true
```

### –®–∞–≥ 2: –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç "Buy Token"
2. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç swap –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (Uniswap/Jupiter)
3. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç swap –≤ –∫–æ—à–µ–ª—å–∫–µ
4. –¢–æ–∫–µ–Ω—ã MCT –ø—Ä–∏—Ö–æ–¥—è—Ç –Ω–∞ –∫–æ—à–µ–ª–µ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

---

## üìä –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:

‚úÖ **–ù–µ –Ω—É–∂–µ–Ω –∫–æ–Ω—Ç—Ä–∞–∫—Ç –ø—Ä–æ–¥–∞–∂–∏** - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è DEX
‚úÖ **–õ—É—á—à–∞—è –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å** - —á–µ—Ä–µ–∑ –∞–≥—Ä–µ–≥–∞—Ç–æ—Ä—ã
‚úÖ **–ü—Ä–æ—â–µ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è** - –∑–Ω–∞–∫–æ–º—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å swap
‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á–µ—Ç** - DEX —Å–∞–º –Ω–∞—Ö–æ–¥–∏—Ç –ª—É—á—à–∏–π –∫—É—Ä—Å

---

## ‚öôÔ∏è –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏:

1. **–û—Ç–∫—Ä—ã—Ç–∏–µ swap URL:**
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `sdk.actions.openUrl()` –∏–∑ Farcaster SDK
   - –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è Uniswap —Å –ø—Ä–µ–¥–∑–∞–ø–æ–ª–Ω–µ–Ω–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏:
     - Token In: ETH –∏–ª–∏ USDC
     - Token Out: MCT Token
     - Amount: —Ä–∞—Å—Å—á–∏—Ç–∞–Ω–Ω–∞—è —Å—É–º–º–∞

2. **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã swap:**
   - –î–ª—è ETH: ~0.0001 ETH –∑–∞ 0.10 MCT
   - –î–ª—è USDC: ~0.25 USDC –∑–∞ 0.10 MCT

3. **–í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è:**
   - –ü–æ—Å–ª–µ swap –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –±–∞–ª–∞–Ω—Å —Ç–æ–∫–µ–Ω–æ–≤
   - –ï—Å–ª–∏ –±–∞–ª–∞–Ω—Å —É–≤–µ–ª–∏—á–∏–ª—Å—è - –ø–æ–∫—É–ø–∫–∞ —É—Å–ø–µ—à–Ω–∞

---

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞:

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ ETH

```env
NEXT_PUBLIC_USE_FARCASTER_SWAP=true
NEXT_PUBLIC_USE_USDC_FOR_PURCHASE=false
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ß–µ—Ä–µ–∑ USDC

```env
NEXT_PUBLIC_USE_FARCASTER_SWAP=true
NEXT_PUBLIC_USE_USDC_FOR_PURCHASE=true
```

---

## üìù –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ –ø–æ–∫—É–ø–∫–µ:

1. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç "Buy Token"**
2. **–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:**
   - –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç —Å—É–º–º—É –¥–ª—è swap
   - –û—Ç–∫—Ä—ã–≤–∞–µ—Ç Uniswap —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
   - –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ "–û—Ç–∫—Ä—ã—Ç swap –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å"

3. **–í Uniswap:**
   - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç –ø—Ä–µ–¥–∑–∞–ø–æ–ª–Ω–µ–Ω–Ω—ã–π swap
   - –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é
   - –ü–æ–ª—É—á–∞–µ—Ç —Ç–æ–∫–µ–Ω—ã MCT

4. **–ü–æ—Å–ª–µ swap:**
   - –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –±–∞–ª–∞–Ω—Å
   - –ï—Å–ª–∏ —Ç–æ–∫–µ–Ω—ã –ø–æ–ª—É—á–µ–Ω—ã - –ø–æ–∫—É–ø–∫–∞ —É—Å–ø–µ—à–Ω–∞

---

## ‚ö†Ô∏è –í–∞–∂–Ω–æ:

- **–ù—É–∂–Ω–∞ –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å** - —Ç–æ–∫–µ–Ω MCT –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ DEX
- **–ö—É—Ä—Å –º–æ–∂–µ—Ç –º–µ–Ω—è—Ç—å—Å—è** - –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏ –Ω–∞ DEX
- **–ö–æ–º–∏—Å—Å–∏–∏ DEX** - –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫–æ–º–∏—Å—Å–∏–∏ –∑–∞ swap
- **–ù–µ –Ω—É–∂–µ–Ω –∫–æ–Ω—Ç—Ä–∞–∫—Ç –ø—Ä–æ–¥–∞–∂–∏** - –≤—Å–µ —á–µ—Ä–µ–∑ DEX

---

## üÜö –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–º:

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –°–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç | Farcaster Swap |
|----------|----------------|----------------|
| **–ù—É–∂–µ–Ω –∫–æ–Ω—Ç—Ä–∞–∫—Ç?** | ‚úÖ –î–∞ | ‚ùå –ù–µ—Ç |
| **–õ–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å** | ‚ö†Ô∏è –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∞ | ‚úÖ –ß–µ—Ä–µ–∑ DEX |
| **–ö—É—Ä—Å** | ‚úÖ –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π | ‚ö†Ô∏è –†—ã–Ω–æ—á–Ω—ã–π |
| **–ö–æ–º–∏—Å—Å–∏–∏** | üí∞ –ú–µ–Ω—å—à–µ | üí∞ –ë–æ–ª—å—à–µ (DEX) |
| **–ü—Ä–æ—Å—Ç–æ—Ç–∞** | ‚ö†Ô∏è –°—Ä–µ–¥–Ω—è—è | ‚úÖ –ü—Ä–æ—â–µ |

---

## ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!

–ü—Ä–æ—Å—Ç–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `NEXT_PUBLIC_USE_FARCASTER_SWAP=true` –∏ –ø–æ–∫—É–ø–∫–∞ –±—É–¥–µ—Ç —á–µ—Ä–µ–∑ swap!

